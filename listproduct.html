<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>listproduct</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Add New Product</h1>
<div id="form-1">
    <form method="POST">
        <input type="text" id="newproduct" name="newproduct" placeholder="New Product">
        <input type="button" value="Add" id="add" onclick="addProducts();">
    </form>
</div>
<h1>Display All Product</h1>
<div id="table-1"></div>
<script>
    let $ = document.querySelector.bind(document);

    const products = [];

    let ipProduct = $('#newproduct');

    function addProducts() {
        let prod=products.push(ipProduct.value);
        showProducts();
        ipProduct.value = '';
        return prod;
    }

    function showProducts() {
        console.log(products)
        let text = '';
        text += `
    <table>
        <tr>
            <th colspan="3" id="productNameTitle">Product Name</th>
            <th><p id="product"><span>${products.length}</span> products</p></th>
        </tr>`;
        for(let i = 0; i < products.length; i++) {
            text += `
        <tr>
            <td id="productName-${i}">${products[i]}</td>
            <td>
                <input type="button" value="Edit" id="${i}" onclick="editProduct(this);">
            </td>
            <td>
                <input type="button" value="Delete" id="${i}" onclick="deleteProduct(this);">
            </td>
            <td></td>
        </tr>`
        }
        text += `</table>`

        document.getElementById('table-1').innerHTML = text;
    }

    function editProduct(option) {
        // console.log(option.parentElement.parentElement.querySelector('#productName-' + (option.id)).textContent);
        let editValue = prompt('Nhập tên bạn muốn sửa: ');
        products[option.id] = editValue;
        showProducts();
    }

    function deleteProduct(option) {
        products.splice(option.id,1);
        showProducts();
    }
</script>

</body>
</html>